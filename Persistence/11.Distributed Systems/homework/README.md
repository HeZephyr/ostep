# Homework
1. 使用本章中提供的代码，构建一个简单的基于 UDP 的服务器和客户端。服务器应接收来自客户端的消息，并回复确认。在第一次尝试中，不要添加任何重传或健壮性（假设通信工作正常）。在一台机器上运行它进行测试;稍后，在两台不同的计算机上运行它。
2. 将您的代码转换为通信库。具体来说，创建自己的 API，包括发送和接收调用，以及根据需要进行其他 API 调用。重写客户端和服务器以使用库，而不是原始套接字调用。
3. 以超时/重试的形式将可靠的通信添加到您蓬勃发展的通信库中。具体来说，您的库应该复制它将要发送的任何消息。发送消息时，它应该启动一个计时器，以便它可以跟踪自发送消息以来的时间。在接收方上，库应确认收到的消息。客户端发送在发送时应阻塞，即应等到消息被确认后再返回。它还应该愿意无限期地重试发送。最大消息大小应为可以使用 UDP 发送的最大单条消息的大小。最后，确保通过让调用方进入睡眠状态来有效地执行超时/重试，直到确认到达或传输超时;不要旋转和浪费CPU！
4. 使您的库更高效且功能更丰富。首先，添加非常大的消息传输。具体来说，尽管网络限制了最大消息大小，但您的库应该能够接收任意大小的消息并将其从客户端传输到服务器端。客户端应该将这些大型消息分成多个部分发送到服务器；服务器端库代码应该将接收到的片段组装成连续整体，并将单个大缓冲区传递给等待中的服务器代码。
5. 再次执行上述操作，但要保持高性能。您应该快速发送许多片段，而不是一次发送一个片段，从而使网络得到更高的利用率。为此，请仔细标记传输的每个部分，以便接收方的重新组装不会扰乱消息。
6. 最后的实现挑战：异步消息发送和有序传递。也就是说，客户端应该能够重复调用 send 来依次发送一条消息；接收方应调用 receive 并按顺序、可靠地获取每条消息；来自发送者的许多消息应该能够同时传输。还添加一个发送方调用，使客户端能够等待所有未完成的消息得到确认。
7. 测量每种方法的带宽；您可以在两台不同的机器之间传输多少数据，传输速率是多少？还要测量延迟：对于单个数据包发送和确认，完成的速度有多快？最后，你的数字看起来合理吗？你期待什么？如何更好地设定您的期望，以便知道是否存在问题，或者您的代码运行良好？